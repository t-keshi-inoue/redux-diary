{"data":{"site":{"siteMetadata":{"title":"Electric Sheep Blog","author":"takeshiino21","homepage":"https://github.com/t-keshi-inoue"}},"post":{"id":"efdfe819-4568-5cec-80a9-463be6f369fb","html":"<h2>Formikとは</h2>\n<p>“Reactで入力フォームを作る”<br>\nそれは思いのほか手のかかることだ。\nそこでFormikというライブラリの登場である。\nまずは<a href=\"https://jaredpalmer.com/formik/docs/overview\">公式サイト</a>を見ていこう。  </p>\n<p>---以下引用---</p>\n<p>Reactでフォームを作ると本当に長ったらしいコードになっちまう。\nさらに悪いことには、フォーム作成のためのライブラリのほとんどは、おかしな呪文みたいな余計なコードを含んでいるので、そのせいで大きくパフーマンスを悪化させることもある。Formikは違う。小さなライブラリでありながら、エンジニアをイラつかせかねない３つの要素について手助けしてくれる。</p>\n<ol>\n<li>フォームのStateから値を取得する。</li>\n<li>値をチェックしてエラーメッセージを吐かせる。</li>\n<li>受け取った値を取り回す。</li>\n</ol>\n<p>Formikは、この3つのロジックを一箇所にまとめて、すべてをすっきりとしたコードにしてくれる。Formikならテストコードも書けるし、リファクタリングもできる。そしてあなたのフォームをロジックのしっかりしたものにできる。それも単にできるんじゃなくて、楽勝でできるんだ！</p>\n<p>—引用終了---</p>\n<h2>具体的な書き方</h2>\n<div class=\"gatsby-highlight\" data-language=\"<formik\"><pre class=\"hljs-<formik\"><code class=\"hljs-<formik\">   initialValues={{ email: &#39;&#39;, password: &#39;&#39; }}\n   validate={values =&gt; {\n     const errors = {};\n     if (!values.email) {\n       errors.email = &#39;Required&#39;;\n     } else if (\n       !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)\n     ) {\n       errors.email = &#39;Invalid email address&#39;;\n     }\n     return errors;\n   }}\n   onSubmit={(values, { setSubmitting }) =&gt; {\n     setTimeout(() =&gt; {\n       alert(JSON.stringify(values, null, 2));\n       setSubmitting(false);\n     }, 400);\n   }}</code></pre></div>\n<p>のような感じ。\n記述量が減る。論理はまとまる。シンプルでクールなライブラリだ。\n余談だけど、formikにしてもmoment.jsにしても有名どころのライブラリはとりあえず使っとくと、\nおいしいことが多い。練習のためにはいいけど、いつもは自前のコードに拘らずに、積極的にライブラリを取り入れた方がむしろReactらしい書き方になるし、それもまた「Reactの流儀」というやつかもしれない。</p>\n<h2>WHAT’S MORE?</h2>\n<p>Formikと相性のいい3rcParty製のバリデーションライブラリがある。formikの公式にも”We love soooo much Yup”と書いてあり、一緒に使っておくと間違いがないだろう。\nYupについても今度詳しく書きたいと思う。\n以上！</p>","frontmatter":{"title":"FormikとYup","path":"/post17/","images":["images/3.jpeg"],"category":"React","tags":["React"],"date":"2019-11-16T00:00:00.000Z","components":null,"tweets":null,"summary":"Reactでフォームを作る"}}},"pageContext":{"isCreatedByStatefulCreatePages":false}}